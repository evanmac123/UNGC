United Nations Global Compact
=============================

Accounts
========

OpenCms
-------
OpenCms login
http://66.109.24.102:8080/opencms2/opencms/system/login/index.html
unspace:unspacecms

Administration section
----------------------
http://demo.unglobalcompact.org/
Administrator - unspace:unspace
Participant   - logo:request

Hoptoad
-------
http://unspaceungc.hoptoadapp.com/
user: ungc@unspace.ca
password: hoptoad

NewRelic RPM
------------
URL: https://rpm.newrelic.com
user: ungc@unspace.ca
password: newrelic

Data Migration
==============

We created two classes in the lib/ folder - Importer and HabtmImporter - that populate the database in our format from UNGC data - uses the .CSV files located in lib/un7_tables by default.
To import the data from the .CSV files, go to a console and run:
>> Importer.new.run

(You can also use runner: ./script/runner "Importer.new.run")

Be patient, a run will take close to 1 hour - or more :)

To import CMS content, install the Hpricot gem - gem install hpricot - and run these two scripts from a command prompt:
> ./script/import
> ./script/replace

> rake db:drop db:create && rake db:migrate && ./script/runner "Importer.new.run" && ./script/import && ./script/replace

Application setup
=================

Make sure you run Ruby 1.9.1!
rvm - http://rvm.beginrescueend.com/ - makes installing multiple Ruby versions extremely easy.

sudo gem install rvm
rvm-install
rvm use 1.9.1 - this will download and install ruby 1.9.1
rvm 1.9.1 --default - this will make the downloaded 1.9.1 the default in your computer
At this point, you get new executables for gem, irb and ruby, and have to install all gems again.
Make sure you never run the "sudo" command before installing any of the gems.

If you are setting up this application for the first time in you machine, follow the steps below:

cp config/database.yml.sample config/database.yml
rake gems:install
rake db:create
rake db:migrate
rake db:seed
./script/server

Done :)

Fields to delete
================

Here's a list of tables/fields that should be safe to delete after the application has been launched:

*.old_id - only used by importer
organizations.local_network - we have a new LocalNetwork model
organizations.old_tmp_id - only used by importer
contacts.ceo - roles replace the use of this field
contacts.contact_point - roles replace the use of this field
