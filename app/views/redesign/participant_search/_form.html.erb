<%= form_for @search, as: :search, url: redesign_participant_search_path, method: :get, html: {class: 'library-filters-form'} do |f| %>

  <header>
    <h1><%= @page.meta_title.try(:html_safe) -%></h1>

    <fieldset id='section-search'>
      <%= f.search_field :keywords, placeholder: 'Search Participants', tabindex: 1, autofocus: true %>
      <%= f.button '<span>Search</span>'.html_safe, type: :submit %>
    </fieldset>
  </header>

  <fieldset class='filter-lists'>
    <%= render 'redesign/components/filter_options_list', label: 'Type', filter: 'organization_types', options: @search.organization_type_options %>

    <%= render 'redesign/components/filter_options_list', label: 'Initiative', filter: 'initiatives', options: @search.initiative_options %>

    <%= render 'redesign/components/filter_options_list', label: 'Geography', filter: 'countries', options: @search.country_options %>

    <%= render 'redesign/components/filter_options_list', label: 'Sectors', filter: 'sectors', child_filter: 'sectors', options: @search.sector_options %>

    <%= render 'redesign/components/filter_options_list', label: 'Reporting Status', filter: 'reporting_status', options: @search.reporting_status_options %>
  </fieldset>

  <fieldset class='sorting'>
    <%= f.select :per_page, @search.per_page_options, {id: 'per_page'} %>
    <%= f.select :sort_field, @search.sort_options, {include_blank: 'Sort'}, {id: 'filter-sort-order'} %>
  </fieldset>

  <%- if @results.any? -%>
    <p class='results-count'>
      <%- if !@search.keywords.empty? -%>
        Searched for: <strong>&ldquo;<%= @search.keywords -%>&rdquo;</strong>&mdash;
      <%- end -%>
      <strong><%= @results.total_entries -%></strong> results</p>
  <%- end -%>
<% end %>
