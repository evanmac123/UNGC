<%= form_for @search, as: :search, url: redesign_library_search_path, method: :get, html: {class: 'library-filters-form'} do |f| %>

  <header>
    <h1>Explore Our Library</h1>

    <fieldset id='section-search'>
      <%= f.search_field :keywords, placeholder: 'Search Our Library', tabindex: 1, autofocus: true %>
      <%= f.button '<span>Search</span>'.html_safe, type: :submit %>
    </fieldset>
  </header>


  <fieldset class='filter-lists'>
    <%= search_filter @search.issue_filter %>
    <%= search_filter @search.topic_filter %>
    <%= search_filter @search.language_filter %>
    <%= search_filter @search.sector_filter %>
  </fieldset>

  <%= render 'redesign/components/active_filters_list', active_filters: @search.active_filters %>


  <fieldset class='sorting'>
      <%= f.select :content_type, @search.type_options, {include_blank: 'Type'}, {id: 'filter-content-type'} %>

      <%= f.select :sort_field, @search.sort_options, {include_blank: 'Sort'}, {id: 'filter-sort-order'} %>
  </fieldset>

  <%- if @results.any? -%>
    <p class='results-count'>
      <%- if !@search.keywords.empty? -%>
        Searched for: <strong>&ldquo;<%= @search.keywords -%>&rdquo;</strong>&mdash;
      <%- end -%>
      <strong><%= @results.total_entries -%></strong> results</p>
  <%- end -%>
<%- end -%>
