<%= form_for @search, as: :search, url: redesign_library_search_path, method: :get, html: {class: 'library-filters-form'} do |f| %>

  <header>
    <h1>Explore Our Library</h1>

    <%= f.search_field :keywords, placeholder: 'Search', id: 'search-field' %>
  </header>


  <fieldset class='filter-lists'>
    <%= render 'redesign/components/filter_options_list', label: 'Issues', filter: 'issue_areas', child_filter: 'issues', options: @search.issue_options %>

    <%= render 'redesign/components/filter_options_list', label: 'Topics', filter: 'topic_groups', child_filter: 'topics', options: @search.topic_options %>

    <%= render 'redesign/components/filter_options_list', label: 'Languages', filter: 'languages', options: @search.language_options %>

    <%= render 'redesign/components/filter_options_list', label: 'Sectors', filter: 'sector_groups', child_filter: 'sectors', options: @search.sector_options %>
  </fieldset>

  <%= render 'redesign/components/active_filters_list', active_filters: @search.active_filters %>


  <fieldset class='sorting'>
      <%= f.select :content_type, @search.type_options, {include_blank: 'Type'}, {id: 'filter-content-type'} %>

      <%= f.select :sort_field, @search.sort_options, {include_blank: 'Sort'}, {id: 'filter-sort-order'} %>
  </fieldset>

  <div class='reset-and-submit'>
    <%= f.submit 'Clear', type: 'reset' %>
    <%= f.submit 'Search', id: 'our-search' %>
  </div>

  <%= content_tag(:p, "<strong>#{@results.total_entries}</strong> results".html_safe, class: 'results-count') if @results.any? %>
<%- end -%>
